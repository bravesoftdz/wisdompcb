
西雅图夜未眠  13:45:27
req_cardtime－－－要补卡的时间
reqtime－－－提交的时间
reqstate---0 = 未提交  1 = 提交   2 = 已经审核 3 = 退回
ReqType 0 = 补卡 1 = 请假    2=修改工时 

痴线  13:45:47
哦
西雅图夜未眠  13:45:51
req_starttime,reqendtime－请假开始结束时间






select top 1 b.departmentname,b.employeecode,b.chinesename,reqtime,reqperson,reqinfo,
case  reqtype when 0 then '补卡'when 1 then '请假'when 2 then '修改工时' end as  [事务类型],
case  reqstate when 0 then '未提交'when 1 then '提交'when 2 then '已经审核'when 3then '退回' end as  [处理状态],
dealperson,dealtime,req_starttime,req_endtime,req_cardtime,zbhour,jbhour,askforleaverk,a.rkey,employeeid,reqstate,reqtype
 from req a  join v_employeemsg b on a.employeeid=b.rkey



where reqstate=1


select *  from  dbo.OriginalCheckData
where remark <>'card_collect'
and card_time>='2015-03-01'


/*
5107121	0007680960	2015-01-11 16:45:14.000	2015-01-11	00:00:00	0         	17888	0	0	0	手工补卡
5107122	0011049397	2015-01-12 07:40:35.000	2015-01-12	00:00:00	0         	15839	0	0	0	手工补卡
5107123	0007677884	2015-01-14 12:00:48.000	2015-01-14	00:00:00	0         	397	0	0	0	手工补卡
5107124	0007677884	2015-01-07 08:00:08.000	2015-01-07	00:00:00	0         	397	0	0	0	手工补卡
5107125	0016457538	2015-01-05 13:25:28.000	2015-01-05	00:00:00	0         	1146	0	0	0	手工补卡
5107126	0008201393	2015-01-12 12:00:32.000	2015-01-12	00:00:00	0         	16505	0	0	0	手工补卡
5107127	10348     	2015-01-15 09:27:57.000	2015-01-15	09:27:57	201       	4	0	0	0	10348     2015-01-1509:27:5720
5107128	10348     	2015-01-15 17:49:55.000	2015-01-15	17:49:55	201       	4	0	0	0	10348     2015-01-1517:49:5520
5107131	10605     	2015-01-15 19:44:21.000	2015-01-15	19:44:21	205       	7	0	0	0	10605     2015-01-1519:44:2120
5107135	10673     	2015-01-15 11:58:08.000	2015-01-15	11:58:08	201       	9	0	0	0	10673     2015-01-1511:58:0820
5107136	10673     	2015-01-15 14:51:27.000	2015-01-15	14:51:27	201       	9	0	0	0	10673     2015-01-1514:51:2720
5107138	11279     	2015-01-15 12:00:49.000	2015-01-15	12:00:49	206       	14	0	0	0	11279     2015-01-1512:00:4920
*/